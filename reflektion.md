## Kodkvalitetskrav

### Namngivning

| Namn                       | Förklaring                                                                                                   | Reflektion                                                                                                                                                                                                                                 |
| -------------------------- | ------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `GameObject`               | En klass som representerar ett spelobjekt.                                                                   | **Use Intention-Revealing-Names**: Namnet är tydligt och beskriver vad klassen representerar.                                                                                                                                              |
| `draw(ctx): void`          | En metod som kallar på all dess `children`'s `draw`-metoder och sedan anropar `render`-metoden på sig själv. | **Method Names**: Namnet `draw` är ett verb och indikerar att metoden utför en handling.                                                                                                                                                   |
| `overlaps(other): boolean` | En metod som kollar om två `CollisionLayers` delar minst ett lager.                                          | **Use Intention-Revealing-Names**: Namnet kan skapa förvirring om man inte känner till den interna implementationen. Bättre namn skulle kunna vara `sharesActiveLayerWith`                                                                 |
| `CollisionBody`            | En klass som representerar en kollisionskropp.                                                               | **Pick One Word per Concept**: Då `CollisionBody` ärver från `GameObject` skulle det vara tydligare att forsätta använda namnet `Object` istället för `Body`                                                                               |
| `Vector2D`                 | En klass som representerar en vektor i två dimensioner.                                                      | **Use Solution Domain Names**: Namnet är ett känt begrepp inom matematik och datavetenskap. <br> **Avoid Encodings**: Namnet kan förbättras genom att inte använda förkortningar. Ett bättre namn skulle kunna vara `TwoDimensionalVector` |

### Funktioner

| Namn                                     | Förklaring                                                                                                                             | Reflektion                                                                                                                                                                                                                                                                                              |
| ---------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `getIntersectionVector(other): Vector2D` | En metod som returnerar en vektor som representerar hur mycket `other`-objektet måste flyttas för att inte kollidera med detta objekt. | **Small!**: Även om denna metod är den största i programmet, är den fortfarande relativt kort. Man hade kunnat göra den mindre genom att bryta upp de olika delberäkningarna i egna metoder.                                                                                                            |
| `#gameLoop(timeStamp): void`             | En metod som kör koden som ska utföras varje frame.                                                                                    | **One Level of Abstaction per Function**: Metoden anropar flera av klassens interna metoder som är på en hög abstraktionsnivå samtidigt som den utför anrop på en mycket lägre nivå. Detta går emot principen som Clean Code föreslår.                                                                  |
| `#checkCollisions(): void`               | En metod som kollar om några objekt kolliderar med varandra.                                                                           | **Use Decriptive Names**: Namnet är tydligt och beskriver vad metoden gör. <br> **Have no Side Effects**: Metoden anropar den interna metoden `#notifyCollisions`, vilket har sidoeffekten att `onCollision` anropas på de kolliderande objekten. Detta är inte tydligt från namngivningen.             |
| `#addClickListener(): void`              | En metod som lägger till en eventlyssnare för klick.                                                                                   | **Command Query Seperation**: Metoden följer principen om Command Query Separation genom att endast utföra en handling (lägga till en event-lyssnare) utan att returnera något värde. Callback-funktionen följer också denna princip genom att endast utföra handlingar och inte returnera något värde. |
| `#getClickPosition(event): Vector2D`     | En metod som returnerar muspekarens position relativt till canvas-elementet.                                                           | **Function Arguments**: Metoden tar ett argument, `event`, vilket är nödvändigt och godtagbart. Det följer principen i Clean Code                                                                                                                                                                       |

## Reflektion

Att arbeta med kodkvalitet enligt Clean Codes principer har varit utmanande, men lärorikt. Även om jag inte håller med författaren i alla åsikter har reglerna han skapat upp hjälpt mig att reflektera över min kod och fundera på hur jag skriver den. Att följa reglerna till dess extrem tror jag inte skulle leda till någon speciellt bra kod, men att använda dem som riktlinjer och reflektera över dem har varit väldigt givande. Jag tror att jag kommer att fortsätta att använda mig av dessa principer i framtida projekt, även om jag inte alltid kommer att följa dem till punkt och pricka.

I detta projekt tycker jag att jag har kunnat följa bokens principer rätt så bra. Det finns metoder som jag hade kunnat bryta upp i mindre delar och metoder som jag hade kunnat namnge på bättre sätt, specielt i `RectangleCollisionBody`-klassen. Det som har varit svårats är hur man ska tänka runt att bryta upp metoder som innehåller loopar och if-satser till mindre delar utan att funktionaliteten blir lidande.

Genpm att följa Clean Code-principerna tycker jag att min kod har blivit mycket mer läsbar och lätt att förstå händelseförloppet i. Däremot tycker jag det är svårt när man sitter och utvecklar och jobbar med flera av metoderna samtidigt som det blir jobbigt att behöva byta context hela tiden. Jag förstår att syftet med att bryta upp det är att man inte ska behöva tänka på mer än indata och utdata, men vanor är svåra att bryta. jag tror att om jag forsätter jobba på detta sätt kommer det att bli enklare med tiden. Nu testade jag inte det i detta projekt, men det hade varit trevligt att undersöka hur det känns att jobba med ett projekt "top-down" och "hitta på" metoder som löser mina problem och sedan jobba mig neråt för att implementera dem.
